# 📖書籍『この一冊で全部わかるWeb技術の基本』
# Chapter 1 Web技術とは
**<details><summary>01 Webとは</summary>**
インターネットが普及した今では、最新のニュースや自分の調べたいことなどの文書を簡単に探してみることができます。また、SNS(ソーシャル・ネットワーキング・サービス)によって自分の文書や画像・動画を世界中の人に簡単に公開することもできるようになりました。こういった文書の公開・閲覧のためのシステムをWebと呼びます。
- World Wide Web
    - Webの正式名書はWorld Wide Web(世界に広がる蜘蛛の巣)といいます。
    - Web上の文書(Webページ)はハイパーテキストと呼ばれる言語で構成されています。ハイパーテキストは1つのWebページの中に別のWebページへの参照(ハイパーリンク)を埋め込むことができ、1つのWebページを複数のWebページと関連つけることで、全体で大きな情報の集合体とすることができます。
- 世界中の情報を蜘蛛の巣状に関連づける
    - Webの大きな特徴はWebページ同士がハイパーリンクで別のWebページへと繋がっていることです。ある1つのWebページに埋め込まれたハイパーリンクは別のWebページに次々と繋がっていき、最終的に世界中のあらゆるWebページとの繋がりを持つことになります。
- イメージでつかもう！
    - ハイパーテキストはハイパーリンクで繋がっている。
    - ハイパーリンクの繋がりが蜘蛛の巣のように広がっている。
- プラス1
    - ハイパーリンクは単に「リンク」とも呼ばれます。</details>


**<details><summary>02 インターネットとWeb</summary>**
- CERNで開発
    - WebはCERN(セルン、欧州原子核研究機構)のティム・バーバーズ＝リーにより開発されました。
    - もともとは各国の実験者がすぐに情報にアクセスできるようにするため、Webの原型のENQUIRE(エンクワイア)が開発され、それが改良されて、World Wide Webが誕生。
    - ティム・バーバーズ＝リーはその後、自身でWebブラウザとWebサーバーを開発し、インターネット上で公開を始めました。
- インターネットの普及に貢献
    - インターネットはARPA(アーパ、アメリカ国防総省の高等研究計画局)によって開発されたコンピューターネットワークであるARPANETアーパネットが原型となっています。
- イメージでつかもう！
    - インターネットとWebはそれぞれ別の目的で開発された。
    - インターネットとWebは融合し、世界中に広まった。
- プラス1
    - インターネットとWebはセットで使われることにより爆発的に広まりました。そのため、インターネットとWebは混同されることも多いです。</details>


**<details><summary>03 さまざまなWebの用途</summary>**
- 文書の閲覧
    - 1つのドメインにある複数のWebページの集まりをWebサイトと呼びます。
    - Webページ同士はハイパーリンクによって相互に繋がり、ユーザーはWebブラウザでそれを辿ることによってWebページ間にまたがる文書を読むことができます。
- ユーザーインターフェース
    - コンピューターの機能とユーザーのやりとりの橋渡しをする機能をユーザーインターフェースと呼びます。
    - 例えばWebメールはハイパーテキストを用いてメールの一覧画面や編集画面などを表示することで、ユーザがメールサーバーの中のメールを表示したり操作したりするための橋渡しを行います。具体的には、ハイパーテキストで作られたメールの操作画面に対してユーザーが行なった操作を、Webサーバーがユーザーの代わりにメールサーバーに伝え、メールの操作を行います。
- プログラム用API
    - ユーザーインターフェースに対し、ソフトウェア同士のやり取りの橋渡しをする機能をAPI(アプリケーションプログラミングインターフェース)と呼びます。
    - スマートフォンのアプリのデータ送信・受信の処理によく使われ、例えば天気予報アプリだと、アプリが送信した地域情報をプログラム用APIの役割を持つWebサーバーが受け取り、Webサーバーは受け取った地域情報に対応する天気予報のデータをアプリに返すというような使い方がされています。
- イメージでつかもう！
    - Webの柔軟さと表現力が様々な用途で生み出している。
    - Webアプリのユーザーインターフェースを提供。
    - プログラム用APIの提供。
- プラス1
    - Webはもともと文書公開のための技術でしたが、新たな利用方法が提唱されるのに合わせて、今も新しい機能が次々に追加されています。</details>


**<details><summary>04 HTMLとWebブラウザ</summary>**
- 記述言語 HTML
    - ハイパーテキストを記述するための言語がHTML(HyperText Markup Languabe)です。
    - HTMLでは文章の表示方法やハイパーリンクをタグと呼ばれるマークによって表現します。このような言語は一般にマークアップ言語と呼ばれます。
- 表示プログラム Webブラウザ
    - ハイパーテキストは文章にタグで意味付けをしたものであり、人間がそのまま読むには適していません。そこでハイパーテキストを解釈して、人間が読みやすいように作り変えて表示してくれるのがWebブラウザと呼ばれるプログラムです。
    - 一般的に使われているWebブラウザにはInternet ExplorerやFirefox、Chromeなどがあります。
- イメージでつかもう！
    - ハイパーテキストはHTMLで記述する。
    - WebブラウザはHTMLをWebページとして表示する。
- プラス1
    - Internet ExplorerはMicrosoft、Firefoxは非営利団体のMozilla Foundation、ChromeはGoogleがそれぞれ開発・公開しています。</details>


**<details><summary>05 WebサーバーとHTTP</summary>**
- 配信プログラムWebサーバー
    - WebサーバーはWebブラウザからコンテンツの要求があると、必要なコンテンツをネットワークを通してWebブラウザに送信する役割を持ちます。
    - 一般的にはApacheやIIS(Internet Information Service)というプログラムがよく利用されています。
- やりとりの手順HTTP
    - Webページが表示される際は、WebブラウザからWebサーバーにコンテンツを要求し、Webサーバーが要求されたコンテンツをWebブラウザに送信するというやりとりが行われます。
    - コンテンツ(ハイパーテキスト)を送信するためのやりとりの手順と、やりとりするメッセージの書式は、世界共通の仕様として決められています。
    - この世界共通のハイパーテキストのやりとりの手順をHTTP(HyperText Transfer Protocol)といい、ハイパーテキストの要求手順、ハイパーテキストの送信手順のほかにも、要求されたコンテンツを持っていなかった場合の応答方法やWebサイトが移転したことをWebブラウザに伝える方法など、ハイパーテキストのやりとりをするうえで必要となるさまざまな手順が定義されています。
- イメージでつかもう！
    - コンテンツはWebサーバーから配信される。
    - WebブラウザとWebサーバーのやりとりはHTTPに従って行われる。
    - 環境が違ってもプロトコルは世界共通。WebブラウザやWebサーバーにはさまざまな種類がありますが、どれを使っていてもHTTPという共通のルールでやりとりできます。
- プラス1
    - Apacheの正式名称はApache HTTP Serverで非営利団体のApache Software Foundaitonが開発・公開しています。IISはMicrosoftが開発・公開している製品です。</details>


**<details><summary>06 Webページが表示される流れ</summary>**
- URLを使ってWebサーバーにアクセス
    - Webページを取得するとき、最初に「 http://www.sbcr.jp/index.html 」のようなURL(Uniform Resouce Locator)で、取得したいWebページをWebブラウザに指定します。
    - このURLには「どのやりとりの手順で」「どのWebサーバーに」「何のコンテンツを」取りに行くかという情報が含まれており、Webブラウザはこの情報をもとに要求を送ります。
    - Webで使われるやりとりの手順にはHTTPと、HTTPのセキュリティを高めた手順であるHTTPSがあります。
- Webブラウザで解釈
    - 転送されたコンテンツはWebブラウザがHTMLの内容を解釈し、タグによって与えられた意味を参考に、人間の見やすい形に整形して表示します。例えば、タイトルの文章は画面のタイトル表示部分に、見出しの文章はほかの文章より大きめのサイズで表示します。
- さらに他の画像などを転送
    - 一度のコンテンツの転送で送られるファイルは1つです。画像など他のファイルが必要となった場合は、再度Webサーバーにそのファイルの転送を要求し、転送してもらったファイルをHTMLの表示画面にはめ込みます。
    - これを繰り返して、全ての必要なファイルを揃えることができればWebページの表示が完了します。
- イメージでつかもう！
    - Webサーバーに要求するコンテンツはURLで指定する。
    - 転送されてきたHTMLを解釈してWebページを表示する。
    
        一度の転送で送られるファイルは原則1つです。HTMLに画像など他のファイルの指定が含まれている場合は、またWebサーバーに要求を送って画像データを取得します。</details>


**<details><summary>07 静的ページと動的ページ</summary>**
- 静的ページ
    - 何度アクセスしても毎回同じものが表示されるWebページを静的ページを呼びます。
        
        例えば、企業の団体の紹介サイトなど、情報を提供するサイトはいつも同じ情報を表示する必要があるため、一般的に静的ページで構成されます。HTMLのみで記述されたWebページは静的ページです。
        
    - 動的ページ
        
        アクセスした時の状況に応じて異なる内容が表示されるWebページを動的ページと呼びます。
        
        例えば、GoogleやYahoo!のような検索サイトの結果表示が動的ページに当たります。検索サイトではユーザーからWebブラウザを通して送られてくるデータ(検索文字列)を受け取り、それをもとにWebサーバーが検索処理を実施します。その後、検索結果を表示するためのHTMLファイルをWebサーバーが作成し、Webブラウザに送信します。こうすることで、ユーザーの入力した検索文字列に対し、毎回最新の検索結果の情報を返信できます。
        
        動的ページの例としては、訪れるユーザーが書き込むたびに内容が増えていく掲示板サイトやログインするユーザーごとに異なる情報を表示する会員サイトなどがあり、今では当たり前のものとなっています。
- イメージでつかもう！
    - 「静的ページ」は同じコンテンツが送られる。
    - 「動的ページ」は要求によってコンテンツが変わる。</details>


**<details><summary>08 動的ページの仕組み</summary>**
- CGI(Common Gateway Interface)
    - WebサーバーがWebブラウザからの要求に応じてプログラムを起動させるための仕組みをCGI(Common Gateway Interface)と呼びます。動的ページを利用する際は、WebブラウザはCGIが用意された場所を示すURLにアクセスします。
        
        要求を受信したWebサーバーでは、CGIによってプログラムが起動します。プログラムはWebブラウザから送信されてきたデータやWebサーバー自身が持っているデータなどからHTMLファイルを作り出し、Webサーバーを通してWebブラウザに送信されます。
- サーバーサイド・スクリプト
    - CGIから呼び出されるプログラムはサーバーサイド・スクリプトと呼ばれます。
        
        基本的にどんなプログラミング言語を用いて記述しても大丈夫ですが、一般的には文字列の扱いに長けたスクリプト言語と呼ばれる言語で記述されます。具体的にはPerl、Ruby、Python、PHP、JavaScriptなどが挙げられます。
- クライアントサイド・スクリプト
    - サーバーサイド・スクリプトに対し、HTMLに埋め込まれ、Webブラウザによって読み込まれる際に実行されるクライアントサイド・スクリプトというものもあります。Webブラウザの設定によっては埋め込まれたプログラムが動かないこともあるため、使用する際には注意が必要です。
        
        クライアントサイド・スクリプトには、主にJavaScriptが用いられます。
- イメージでつかもう！
    - Webで使われるスクリプトは大きく2種類に分けられる。
        
        サーバー側でスクリプト(プログラム)を実行するタイプと、Webブラウザ側でスクリプトを実行するタイプがあります。
        
    - CGIがサーバーサイド・スクリプトを実行する流れ。</details>


**<details><summary>09 Webの標準化</summary>**
- 標準化とは
    - HTMLのようなWebで用いられる技術は、Webの発展に伴って、機能拡張や新技術の開発が行われてきました。
        
        もし、機能拡張をそれぞれの開発者が独自に行なってしまうと、しっかりとした規格が決まりません。その結果、Webブラウザの開発者はどの機能までを処理できるようにするのかが正しいのか、またWebページの制作者はどのように記述すれば正しいのかがわからず、「どのWebブラウザでも同じようにWebページが表示される」状態が実現できなくなります。
        
        そのため、しっかりとした規格を決める必要があります。この規格を決める作業を標準化といいます。
- 標準化をすすめる団体
    - Webの標準化をすすめる団体が、Webの生みの親ティム・バーナーズ＝リーが創設したW3C(World Wide Web Consortium)です。
        
        W3Cが標準化したものは「勧告」という形で発表され、従うことは強制ではありません。しかし、「どのWebブラウザでも同じようにWebページが表示される」状態を実現するため、今やほとんどのWebサイトがW3C標準に準拠しています。
        
        HTMLのみ現在はWebブラウザの開発者たちによって結成されたWHATWG(Web Hypertext Application Technology Working Group)が策定し、W3Cが勧告するという形をとっています。
- イメージでつかもう！
    - 標準化されていないとHTMLの企画がいくつも生まれてしまう。
    - 標準化されていればみんなの負担が減る。
- プラス1
    - W3Cは非営利団体で、W3Cに加入する組織の会費や研究助成金、寄付金などを資金として活動を行なっています。</details>


**<details><summary>10 Webの設計思想</summary>**
- RESTful
    - REST(REpresentational State Transfer)とは、4つの原則からなるシンプルな設計を指します。このRESTの原則に従って設計されたシステムをRESTfulなシステムと呼びます。RESTfulなシステムは「前回のやりとり結果」のような情報を保持する必要がないためシンプルな構造になりやすく、やりとりの方法や情報の示し方が統一されていることや1つの情報に別の情報をリンクさせられることから、RESTfulなシステム同士であれば円滑に情報連携を行えます。
        
        今では多くのWebアプリケーションがRESTfulとなるように設計されています。
- セマンティックWeb
    - ティム・バーナーズ＝リーが提唱している構想で、Webページの情報に意味(セマンティック)を付け加えたものです。こうすることでコンピューターが自律的に情報の意味を理解して、処理できるようになることが期待できます。
        
        HTMLでは意味を付与することができないため、セマンティックWebの世界ではWebページをXMLという言語によって構成します。XML文書の中にRDFという言語で意味を記述し、言葉の相互関係などはOWLという言語で記述します。このような情報に関する意味を示す情報をメタデータと呼びます。これらの言語についてもW3Cで標準化が進められています。
- イメージでつかもう！
    - WebシステムはRESTfulであることが望ましい。
        
        RESTfulとは「RESTの原則」を守って設計されたWebシステムのことです。RESTfulとなることでAPIの相互運用が円滑になります。
        
    - RESTの原則
        - 統一インターフェース
            - あらかじめ定義・共有された方法(WebであればHTTP)で情報がやりとりされる。
        - アドレス可能性
            - すべての情報が一意なURLの構文で示される。
        - 接続性
            - やりとりされる情報にはリンクを含めることができる。
        - ステートレス性
            - やりとりは1回ごとに完結し、前のやりとりの結果に影響を受けない。
    - セマンティックWebはテキストに「意味」を含める
        
        Webページ中のテキストが表しているのが「住所」なのか「人名」なのかという情報を持たせ、機会検索などの精度を高めます。</details>


**<details><summary>COLUMN</summary>**
- Webアプリケーション？Webシステム？
    - Web技術にかかわっているといろいろなWeb〇〇という言葉を耳にします。違いを知っておくことはWeb技術を理解する上で大切なので、整理して覚えておきましょう。
        
        「Webページ」とはWeb上にある文書のことを指します。そして、特定のドメインの下にあるWebページの集まりが「Webサイト」です。Webサイトの表紙に当たるWebページは「トップページ」と呼ばれます。「ホームページ」とはWebブラウザを起動した時に最初に開かれるWebページが本来の意味ですが、現在ではWebサイトのことを指して使われることも多いです。
        
        Webを介して人が利用するサービスを提供するのが「Webアプリケーション」で、プログラムが利用するサービスを提供するのは「Webサービス」と呼ばれます。そして、WebサイトやWebアプリケーション、Webサービスを提供するための仕組みが「Webシステム」となります。</details>


# Chapter 2 Webとネットワーク技術
**<details><summary>01 Webを実現するコンピューターネットワーク</summary>**
Webを支えているのがコンピューターネットワークと呼ばれる、コンピューターがお互いに接続して情報のやりとりをする仕組みです。
- クライアントとサーバー
    
    ネットワーク上で情報やサービスを提供する役割を持つコンピューターを「サーバー」、サーバーから提供された情報やサービスを利用する役割を持つコンピューターを「クライアント」といいます。普段私たちがWebサイトを閲覧する際もクライアントとサーバーが情報をやりとりしており、Webサイトを提供しているのがサーバーで、Webサイトを表示するスマートフォンやパソコンに搭載されているWebブラウザがクライアントにあたります。また、サーバーの役割においてWebサイトを提供するサーバーをWebサーバーと呼びます。
- インターネットとは
    
    スマートフォンやパソコンを利用してWebサイトを閲覧する場合、インターネットサービスプロバイダーが提供するサービスを利用し、インターネットへ接続する必要があります。インターネットとは、自宅や会社、学校などの小さな範囲のネットワークが1つ1つお互いに接続し、世界中のネットワークがつながった環境のことです。
- インターネットサービスプロバイダー
    
    単に「プロバイダー」や「ISP」と略されることが多く、各国に複数のプロバイダーが存在します。スマートフォンやパソコンはプロバイダーと接続し、プロバイダーはプロバイダー同士で接続し合うことで世界中が1つのネットワークとして形成され、インターネットとして成り立っています。
- イメージでつかもう！
    - ネットワークに接続されたコンピューターの役割分担
    
        ネットワークに接続されたコンピューターには、Webなどのサービスを提供する「サーバー」と、サービスを利用する「クライアント」の2つの役割があります。このように各コンピューターに役割を持たせて分散処理を目的とした仕組みを「クライアント/サーバーシステム」といいます。
    - インターネットの全体像
    
        インターネット接続を提供するプロバイダーは階層構造でつながっています。海外のプロバイダーと直接接続したり、IX(インターネット・エクスチェンジ)を利用してプロバイダー同士が接続している大規模なプロバイダーを1次プロバイダーといいます。中小規模な2次プロバイダー、3次プロバイダーといったプロバイダーは上位のプロバイダーを経由することでインターネットサービスをユーザーに提供しています。</details>


**<details><summary>02 インターネットの標準プロトコル</summary>**
- プロトコルとは
    
    プロトコルとはネットワークに接続された機器同士が通信をするときの、あらかじめ決められた共通のルールや手順のことをいいます。お互いに同じプロトコルを利用することにより、データのやりとりが可能となります。
    
    HTTPは「HyperText Transfer Protocol」の略で、Webコンテンツを送受信するためのプロトコルを指します。
- TCP/IPとは
    
    TCP/IP(Transmission Control Protocol/Internet Protocol)とはインターネットにおけるさまざまなサービスを実現するためのプロトコルの集まりのことです。
    
    インターネットへのアクセスが可能なスマートフォンやパソコン、サーバーといったコンピューターはすべてTCP/IPに対応しています。
- HTTPもTCP/IPの一部
    
    TCP/IPは役割ごとに階層化されており、HTTPもTCP/IPにおけるアプリケーション同士のやりとりを行う層のプロトコルの中に含まれています。インターネットにおいてHTTPだけでは足りない部分をTCP/IPのほかのプロトコルが補うことで、お互いに接続することを可能としています。
- イメージでつかもう！
    - プロトコルを狼煙でたとえると……
        
        プロトロルはよく「狼煙」に例えられます。「敵の襲来があったとき、狼煙を使って合図を送る」との取り決めがお互いに認識できていれば、情報の伝達を行うことができます。
        
        コンピューター同士の通信においても、お互いが認識しているプロトコルを利用することにより、データのやりとり(情報の伝達)を行うことができます。
    - 用途に応じたさまざまなプロトコルが用意されている。

        「HTTP」はWebブラウザでWebサイトを閲覧するときに使用しますが、そのほかにも用途によってさまざまなプロトコルが存在します。

        | プロトコル名(略称) | プロトコル名(フルネーム) | 用途 |
        | --- | --- | --- |
        | HTTP | HyperText Transfer Protocol | WebブラウザとWebサーバーの間でデータのやりとりをするときに使用する、データ送受信用のプロトコル |
        | FTP | File Transfer Protocol | コンピューター間でファイルをやりとりをするときに使用する、ファイル送受信用のプロトコル |
        | SMTP | Simple Mail Transfer Protocol | 電子メールを送信するときに使用する、メール送信用のプロトコル |
        | POP | Post Office Protocol | ユーザーがメールサーバーから自分のメールを取り出すときに使用する、メール受信用のプロトコル |
- プラス1
    
    TCP/IPは複数のプロトコルの集まりですが、インターネットにおいて中心的な役割を果たすプロトコルがTCPとIPであることからTCP/IPと呼ばれるようになりました。</details>


**<details><summary>03 TCP/IP</summary>**
- TCP/IPは役割ごとに、4つの階層(レイヤー)に分かれています。
    - アプリケーション層(レイヤー4)
    - トランスポート層(レイヤー3)
    - インターネット層(レイヤー2)
    - ネットワークインターフェース層(レイヤー1)
    
    レイヤーごとの役割に応じたプロトコルが各レイヤーで利用されており、4つの階層のプロトコルが連携することにより、インターネットでの通信が可能となります。
- アプリケーション層の機能
    
    アプリケーション層ではWebブラウザやメールソフトなどのアプリケーションごとのやりとりを規定しています。これらのアプリケーションの多くはクライアント/サーバーシステムで構成されており、クライアントとサーバー間のサービスの要求と応答で成り立っています。また、扱うデータをネットワークで転送するのに適したデータ形式に変換し、逆にネットワーク経由で受け取ったデータを私たちが理解できるように変換する役割も持っています。
    
    データの転送処理などはアプリケーション層より下位の層が担当しています。
- TCPとUDP
    
    アプリケーション層のやりとりに応じて実際にデータの転送処理しているのがトランスポート層に位置するTCP(Transmission Control Protocol)やUDP(User Datagram Protocol)といったプロトコルです。データの転送は分割して行われ、TCPでは分割されたデータの順序や欠落をチェックしているのに対して、UDPは分割されたデータの順序や欠落を保証していません。TCPはWebサイトやメールなどデータ損失が起きると困るようなアプリケーションで利用されており、UDPは信頼性が低いものの、通信の手続きが簡略化されている分、効率よく通信できるため、動画ストリーミングなどで利用されています。
- イメージでつかもう！
    - TCP/IPの階層構造
        
        TCP/IPは4つの階層で構成されています。それぞれに役割分担が決まっており、役割に応じたプロトコルが利用されています。
        
        | レイヤー名 | 役割用途 | プロトコルの例 |
        | --- | --- | --- |
        | アプリケーション層(レイヤー4) | アプリケーションごとのやりとりを規定 | HTTP、SMTP、FTPなど |
        | トランスポート層(レイヤー3) | データの分割や品質保証を規定 | TCP、UDP |
        | インターネット層(レイヤー2) | ネットワーク間の通信を規定 | IP、ICMPなど |
        | ネットワークインタフェース層(レイヤー1) | コネクタ形状や周波数といったハードウェアに関する規定 | イーサネット、Wi-Fiなど |
    - アプリケーション層から見たデータの流れ
        プロトコルを階層化にすることにより、各階層でそれぞれのプロトコルに従って処理を行うことで、他の階層の処理がわからなくても一連の処理(通信)が行えます。アプリケーション層であればお互いのアプリケーション層同士で処理を行なっています。
    - TCPとUDPの違い
        - TCPの通信(コネクション型)
            - TCPは、送信側と受信側でお互いに確認を取りながら通信を行うコネクション型
        - UDPの通信(コネクションレス型)
            - UDPは送信側と受信側で確認を取らないコネクションレス型
- プラス1
    
    TCP/IPとは別に、コンピューターネットワークにおいてコンピューター同士がお互いに通信を行う際に必要とされる機能を7つに階層化したOSI参照モデルと呼ばれる概念があります。</details>


**<details><summary>04 IPアドレスとポート番号</summary>**
- IPアドレス
    
    インターネットに接続されたコンピューターを特定し、データの行き先を管理するために利用されているのがIPアドレスと呼ばれる識別番号です。IPアドレスは世界中で利用できる「住所」のようなものです。
- ポート番号
    
    IPアドレスは接続したいコンピューターを指定できますが、コンピューターが提供するサービスまでは指定できません。そのため、コンピューターが提供するサービスを指定するためにポート番号と呼ばれるものを利用します。ポート番号とはコンピューターの内部にある各サービスを識別するための番号で、マンションやアパートでいう部屋番号に当たります。例えば、あるマンションに住むAさんへ手紙を届けたい際に住所(IPアドレス)だけではAさんに届けることができないように、部屋番号(ポート番号)を住所と一緒に記載する必要があります。このようにIPアドレスとポート番号を指定することで特定のコンピューターの特定のサービスを受け取ることができます。
- Webサーバーは80番
    
    ポート番号は「0〜65535」までの数字で、範囲によって用途が決められています。一般的にWebサーバー(HTTP)であれば80番といったようにポート番号が決まっており、ポート番号によってサービスを識別できます。
- イメージでつかもう！
    - IPアドレスの表記
    
        インターネット上のコンピューターを識別するための番号であるIPアドレスは、現在は32ビットの数字で表現されるIPv4が主に使われています。IPv4では「ドット」で8ビットずつ4つに区切られ、以下のように10進数で表記します。
    
    - IPアドレス10進数表記192.                            168.                     1.                      1
    - IPアドレス2進数表記   11000000 10101000 00000001 00000001
    - グローバルIPアドレスとプライベートIPアドレス
    
        IPアドレスは用途と場所によって、グローバルIPとプライベートIPの2つに分けられます。
    - IPアドレスとポート番号
    
        ポート番号はコンピューター内部で動作するサービスを表します。コンピューターがマンションだとすると、IPアドレスは住所、ポート番号は部屋番号のようなものです。

        | ポート番号の範囲 | ポートの分類 | 説明 |
        | --- | --- | --- |
        | 0〜1023 | ウェルノウンポート | 一般的なサーバーソフトウェアで使用 |
        | 1024〜49151 | レジスタードポート | メーカー独自のサーバーソフトウェアで利用 |
        | 49152〜65535 | ダイナミックポート | クライアント側でランダムに、自由に使用 |
- プラス1
    
    近年IPv4アドレスが枯渇してきており、代わりとしてIPv6が広まりつつあります。IPv6ではIPアドレスを約340澗(340兆の1兆倍の1兆倍)まで使えます。</details>


**<details><summary>05 URLとドメイン</summary>**
- URL
    
    普段私たちがWebサイトを閲覧する際は http://example.com/test.html といった文字列を使いますが、この文字列をURL(Uniform Resource Locator)といいます。
    
    URLはWebサイトだけでなく、インターネットやLANなどのネットワーク上にあるデータやファイルの場所とそれらの取得方法を指定するために利用されます。URLの記述内容を見てみると、「http」はファイルを取得する方法を指定しており、「example.com」はファイル取得先のサーバーを指定しています。「test.html」は取得するファイル名になります。つまり、「HTTP」プロトコルを利用して「example.com」サーバーにある「test.html」ファイルを取得する、との意味になります。
    
    例に挙げたURLにはサービスを特定するためのポート番号の記載がありませんが、これはHTTPを用いてサーバーに接続する場合はポート番号80を使用すると決まっているため、省略しているだけです。省略せずに記載する場合は、 http://example.com:80/test.html となります。
- ドメイン
    
    上記の例では接続するサーバーの指定にIPアドレスではなく「example.com」というドメインと呼ばれる文字列を利用しています。
    
    数字で表記されるIPアドレスは私たちにとって覚えにくく扱いにくいため、ドメインがIPアドレスの別名として利用されます。
    
    ドメインはグローバルIPアドレスと同様に一意であり、世界中において同じドメインは1つとして存在しません。
- イメージでつかもう！
    - URLの構文
        
        URLはスキーム名、ホスト名(ドメイン名)、ポート番号、パス名などで構成されます。
    
    - ドメイン名とホスト名、そしてFQDN
    
        ドメイン名とホスト名は同じ意味で使用される場合もありますが、厳密には、ドメイン名は「ネットワークを特定するための文字列」、ホスト名は「ネットワーク上のコンピューターにつける識別用の文字列」です。
- プラス1
    
    インターネット上でリソースを識別する手段としてURIが存在します。URIは、リソースの場所を示すURLとリソースの名前を示すURNに分けることができます。</details>


**<details><summary>06 DNS</summary>**
ドメインは文字列で記述されるため私たちにとってわかりやすいものですが、インターネット上においてコンピューター同士の接続にはあくまでもIPアドレスが利用されるため、コンピューターへ接続するためにはIPアドレスが必要となります。そのため、ドメインを利用してコンピューターへ接続する際はドメインをIPアドレスへと変換する必要があります。
- ドメインとIPアドレスの変換
    
    ドメインをIPアドレスへと変換する仕組みをDNS(Domain Name System)といいます。そしてDNSのサービスを提供するサーバーをDNSサーバーといいます。
    
    DNSの仕組みは「電話帳」と似ています。指名と電話番号が紐付いて管理された電話帳があれば、相手の氏名を知っていれば電話帳を利用することで相手の電話番号を知ることができます。
    
    DNSではドメインとIPアドレスが紐付いて管理されているため、DNSを利用することでドメインからIPアドレスを知ることができます。
- IPアドレスの問い合わせ
    
    URLドメインが利用されている場合は、必ずDNSサーバーへIPアドレスの問い合わせを行っています。そして、DNSサーバーより取得したIPアドレスをもとにWebサーバーへと接続しています。
- イメージでつかもう！
    - DNSを利用してドメイン名からIPアドレスを調べる
        
        ドメインからIPアドレスを知るためにはDNSサーバーを利用します。このDNSサーバーが行っている「ドメインとIPアドレスを紐付ける」ことを「名前解決」といいます。名前解決のためのシステムがDNSです。
    
    - DNSを利用したIPアドレスの問い合わせ
    
        ドメインは「.」ドットで区切られた階層構造になっており、それぞれの階層にDNSサーバーがあります。各DNSサーバーは同階層のドメインとIPアドレスの紐付けと、下階層に位置するDNSサーバーの管理を行なっています。
- プラス1
    
    DNSにおいてドメインからIPアドレス(IPv4)を取得するための情報をAレコードといいます。逆にIPアドレスからドメイン名を取得するための情報をPTRレコードといいます。</details>


**<details><summary>07 HTTP</summary>**
HTTP(HyperText Transfer Protocol)はクライアント(Webブラウザ)とサーバー(Webサーバー)間においてWebコンテンツを送受信するためのプロトコルです。実際にWebサイトを閲覧する一連の動作をもとに、HTTPによるクライアントとサーバー間のやりとりを見てみましょう。
- クライアントとサーバー間のやりとり
    
    Webサイトを閲覧する際は、大きく分けて次の5つのステップで行われます。
    
    1. Webブラウザのアドレス欄にURLを入力、あるいはWebサイト内のリンクをクリック
    2. URLやリンク情報に基づいてWebサーバーに対してデータを要求
    3. Webブラウザより要求を受け取ったWebサーバーは要求内容を解析
    4. 解析した結果より、要求されたデータをWebブラウザへと応答
    5. WebブラウザはWebサーバーより受け取ったデータを解析し、Webページとして表示
    
    2.と4.のステップがWebコンテンツの送受信の部分であり、この際にHTTPが利用されることになります。HTTPはあくまでもデータのやりとり(要求と応答)のみを取り決めており、Webサイトを閲覧する際はHTTPだけでなく、IP、TCPといったさまざまなプロトコルを組み合わせて利用しています。
- イメージでつかもう！
    - Webサイトの閲覧は5つのステップで行われる。
        
        WebブラウザとWebサーバー間でデータをやりとりする際はHTTPというプロトコルが使われています。

    - HTTPでのクライアントとサーバー間のデータの流れ
    
    Webサイト閲覧においてWebブラウザからWebサーバーに対してデータを要求した際は、アプリケーション層ではHTTP、トランスポート層ではTCP、インターネット層ではIP、ネットワークインターフェース層ではイーサネットプロトコルが利用されます。</details>


**<details><summary>COLUMN</summary>**
- IPv4とIPv6
    
    IPには、IPv4とIPv6の2種類があります。IPv6はIPv4の後継となるべく策定されたプロトコルです。IPv4で利用可能なアドレスが将来枯渇すると予想されたために用意されました。IPv4アドレスが32ビットなのに対して、IPv6アドレスは128ビットです。ビット数は4倍ですが、アドレスとして使える数は格段の違いがあります。IPv4アドレスが約43億個、IPv6アドレスは約340澗個です。
    
    IoTの登場でIPv4のアドレス枯渇は待ったなしの状態です。</details>


# Chapter 3 HTTPでやりとりする仕組み
**<details><summary>01 HTTPメッセージ</summary>**
HTTP(HuperText Transfer Protocol)はその名の示すとおり、HTMLなどのテキストファイルや、画像などのコンテンツをやりとりするときに使われるプロトコルです。
- HTTPメッセージによる「要求」と「応答」
    
    HTTPにおいて、WebブラウザとWebサーバーでやりとりする際に利用されるのが「HTTPメッセージ」と呼ばれるデータ形式です。HTTPメッセージを利用することで、Webブラウザがどういったデータを欲しいのかという要求をWebサーバーに伝えることができ、またWebサーバーもHTTPメッセージを利用してWebブラウザの要求に対する応答ができます。
- 2種類のHTTPメッセージ
    
    HTTPメッセージは、Webブラウザからの要求からの「HTTPリクエスト」と、Webサーバーからの応答である「HTTPレスポンス」の2種類に分けることができます。HTTPでは基本的に、1つのHTTPリクエストに対して1つのHTTPレスポンスを返します。
- イメージでつかもう！
    - HTTPの歴史
        
        HTTPは、1991年に登場して以降、機能の追加を改善を重ねながらバージョンアップしてきました。現在のWebサイトの閲覧では、1999年に規定されたHTTP/1.1が主流です。

    - HTTPの基本動作
    
        HTTPにはさまざまなバージョンが存在しますが、「クライアントからの要求」と「サーバーからの応答」というやりとりの流れはすべてのバージョンで共通です。

    - HTTPメッセージの構成
    
        HTTPメッセージは複数行のデータで構成されます。開始行はHTTPリクエストとHTTPレスポンスで構文が異なり、リクエスト時は「リクエスト行」、レスポンス時は「ステータス行」と呼ばれます</details>


**<details><summary>02 HTTPリクエスト/HTTPレスポンス</summary>**
- HTTPリクエスト
    
    HTTPリクエストは、「リクエスト行」「メッセージヘッダー」「メッセージボディ」の3つに分けることができます。
    
    - リクエスト行
        - Webサーバーに対してどのような処理を依頼するのかを伝える情報が含まれている。
    - メッセージヘッダー(HTTPヘッダー)
        - Webブラウザの種類や、対応しているデータのタイプ、データの圧縮方法、言語などの情報を伝える。
    - メッセージボディ
        - Webサーバーにデータを送るために使われる。空の場合もある。
- HTTPレスポンス
    
    WebブラウザからHTTPリクエストを受け取ったWebサーバーは、リクエストを処理して、その結果をHTTPレスポンスとして応答します。
    
    HTTPレスポンスは、「ステータス行」「メッセージヘッダー」「メッセージボディ」の3つに分けることができます。
    
    - ステータス行
        - WebブラウザにWebサーバー内での処理の結果を伝える。
    - メッセージヘッダー(HTTPヘッダー)
        - Webサーバーソフトウェア情報や、返信するデータのタイプ、データの圧縮方法などの情報を伝える。
    - メッセージボディ
        - HTMLや画像などのデータを格納する場所。

    HTTPリクエストとHTTPレスポンスのやりとりを繰り返し行うことで、Webサイトを閲覧できます。
- イメージでつかもう！
    - WebブラウザがHTTPリクエストを送ってデータを要求する
    - Webサーバーはリクエストに応じてHTTPレスポンスを返す</details>


**<details><summary>03 HTTPメソッド</summary>**
HTTPリクエストを用いてWebサーバーに具体的な要求内容を伝えているのは、HTTPリクエストないに含まれる「HTTPメソッド」です。HTTPメソッドは目的別に複数定義されており、例えばHTMLファイルなどコンテンツを取得したい場合は「GET」メソッド、データをWebサーバーに対して送信する場合は「POST」メソッドが利用されます。Webサイトを閲覧する際に主に利用されるHTTPメソッドは、この「GET」メソッドと「POST」メソッドの2つです。
- 「GET」と「POST」の違い
    
    GETメソッドとPOSTメソッドでデータの送信方法が異なります。
    
    - GETメソッド
        - URLの後ろに送りたいデータを付与して送ります。
        - URLにデータが組み込まれるため、送ったデータがWebブラウザの閲覧履歴の残ってしまいます。

    - POSTメソッド
        - HTTPリクエストないのメッセージボディ内にデータを含めて送ります。
        - メッセージボディ内にデータが組み込まれるため、閲覧履歴が残りません。
- プラス1
    
    HTTPが登場した当初、HTTPメソッドはGETメソッドしかありませんでした</details>


**<details><summary>04 ステータスコード</summary>**
HTTPレスポンス内にはHTTPリクエストに対するWebサーバー内での処理結果が含まれています。それが「ステータスコード」です。ステータスコードは3桁の数字からなり、処理内容によって100番代から500番代までの5つに分類されています。
- ステータスコードの分類
    - 100番台
        - HTTPリクエストを処理中であることを通知しています。
    - 200番台
        - HTTPリクエストに対して、正常に処理した場合に通知しています。
    - 300番台
        - HTTPリクエストに対して、転送処理などのWebブラウザ側で追加の処理が必要であることを通知しています。
    - 400番台
        - クライアント(Webブラウザ)のエラーであることを通知しています。
    - 500番台
        - Webサーバーのエラーであることを通知しています。
- プラス1
    
    「ティーポットにコーヒーを淹れさせようとして、拒否された場合に返す(418 I’m a teapot)」といったジョーク用のステータスコードもあります。</details>


**<details><summary>05 メッセージヘッダー</summary>**
HTTPリクエストとHTTPレスポンスはいずれも「メッセージヘッダー」を利用することで、HTTPメッセージに関する詳細な情報を送信することが可能です。メッセージヘッダーは複数の「ヘッダーフィールド」と呼ばれる行から成り立っており、それぞれのヘッダーフィールドはフィールド名、その後にコロン( : )と1文字分の空白、そしてフィールド値で構成されます。
- プラス1
    
    リクエストヘッダーフィールドの「Referer」の綴りは正しくは「Referrer」ですが、HTTPの技術使用を決める際に誤って登録され、以来間違ったままで使用されています。</details>


**<details><summary>06 TCPによるデータ通信</summary>**
HTTPのデータのやりとりを行うのはTCP(Transmission Control Protocol)の役割です。TCPはWebサイトの閲覧だけではなく、メールの送受信やファイル転送といったさまざまなデータ転送時に利用されています。

TCPではまずクライアントとサーバーがお互いに通信ができる状態なのかを確認し、「コネクション」と呼ばれる通信経路を確立した上でデータのやりとりを行います。このコネクションの確立は、次の3回のやりとりにより行われます。
- クライアントからの要求(SYN)
    - クライアントからサーバーに対して、接続を要求するためのSYNパケットと呼ばれるデータを送ります。SYNパケットを受け取ったサーバーは、それに対して応答します。
- クライアントに対して確認応答および、サーバーからの接続要求(SYN+ACK)
    - TCPでは信頼性のある通信を実現するために、データを送信した後、必ず送信相手からの確認応答を受け取ってデータの送信が完了したと判断します。この確認応答がACKパケットです。
- サーバーに対して確認応答(ACK)
    - サーバーからの接続要求に対してクライアントはACKパケットを送信します。</details>


**<details><summary>07 HTTP/1.1のやりとり</summary>**
- HTTPキープアライブ
    
    1つのWebページ内に多数の画像が埋め込まれるといった使い方が普及すると、HTTPリクエストごとにコネクションを確立していたのでは効率が悪く、無駄な通信が発生してしまいます。そこで、HTTP/1.1以降ではコネクションを継続して利用する方式となりました。この機能をHTTPキープアライブと呼びます。
- HTTPパイプライン
    
    HTTPにおけるデータのやりとりの効率化のために、HTTP/1.1ではHTTPパイプラインと呼ばれる機能がサポートされています。HTTPでは通常1つのHTTPリクエストを送信し、それに対するHTTPレスポンスを受け取るまでは次のHTTPリクエストを送信することができませんが、HttPパイプラインはHTTPレスポンスを待つことなく複数のHTTPリクエストを送信することを可能とします。</details>


**<details><summary>08 HTTP/2のやりとり</summary>**
よりWebサイトの閲覧を快適にするためにデータのやりとりを高速化することを目的としたHTTP/2が登場しました。HTTP/2はGoogleが提案したSPDY(スピーディ)と呼ばれる通信の高速化を目的としたプロトコルがベースとなっており、2015年5月に正式に標準化されました。
- ストリームによる多重化
    
    HTTP/2では1つのTCPコネクション上に「ストリーム」と呼ばれる仮想的な通信経路を複数生成し、それぞれのストリーム内でHTTPリクエストとHTTPレスポンスのやりとりを可能としています。ここのストリームは独立しており、並行してHTTPリクエストとHTTPレスポンスのやりとりができます。そのため、HTTPパイプラインで問題となっていたHTTPレスポンスの待ち状態が発生するということがなくなり、より高速で効率よくデータのやりとりができるようになりました。</details>


**<details><summary>09 HTTP/2での改良点</summary>**
- バイナリ形式の利用
    
    HTTP/1.1以前ではHTTPリクエスト、HTTPレスポンスにおいて全てのデータが一度の送信されていました。それがHTTP/2では「フレーム」と呼ばれる単位に分割され、バイナリ形式で送信されます。
- ヘッダー圧縮
    
    ヘッダー情報は重複したデータが多いため、圧縮方式（HPACK）を利用することでデータ転送量を削減できます。
- サーバープッシュ
    
    通常はHTTPリクエストに応じて、Webサーバーが必要なコンテンツを転送します。HTTP/2ではHTTPリクエスト内容にをもとにWebサーバー側で必要なファイルを判別して、WebブラウザからのHTTPリクエストなしに、事前にWebサーバーから転送します。
- プラス1
    
    バイナリ形式はコンピューターが扱うためのデータ形式で、テキスト形式はバイナリ形式を人間が読める形に変換したものです。</details>


**<details><summary>10 HTTPSの仕組み</summary>**
Webサイトでショッピングやバンキング、チケット予約などのサービスを安心して利用できるようにする仕組みが「HTTPS(エイチティーティーエス)」です。

HTTPSはHTTP over SSL/TLSの略で、HTTPの通信において、暗号化方式であるSSL(Secure Sockets Layer)やTLS(Transport Layer Security)を利用することでWebサイトを安全に使うことができます。
- 安全性を確保する仕組み
    
    HTTPSで利用されるSSL/TLSでは、以下の3つの仕組みによりWebサイトの安全性を確保します。
    - 盗聴防止(暗号化通信)
    
        Webサイトを閲覧する際に、実際にはいくつものサーバーを経由するため、第三者が通信内容を傍受することは比較的簡単です。万が一傍受されても内容を解読させないためにデータを暗号化して送ることにより、第三者からの盗聴を防ぎます。
    - 改竄防止
    
        ネットバンキングにおいて振込先情報が書き換えられてしまうといったデータの改竄対策として、「メッセージダイジェスト」が利用されます。メッセージダイジェストとは、あるデータからの一意の短いデータ(ハッシュ値)を取り出す計算のことです。データの送受信時にハッシュ値を比較して改竄を検知できます。
    - なりすまし防止(Webサイト運営元の確認)
    
        Webサーバーに設置された「SSLサーバー証明書」と呼ばれる電子証明書を接続時に検証することで、利用者はWebサイトを運営する会社の身元を確認することができます。SSLサーバー証明書は誰でも発行できますが、信頼された「認証局」以外のSSLサーバー証明書が利用されている場合はWebブラウザ上に警告画面が表示されます。
- プラス1
    
    SSLはバージョン3.0以降より名称がTLSと変更されましたが、この時点でSSLという名称が広く定着していたためにTLSのことも含めてSSLと呼ばれることが多くあります。</details>


**<details><summary>11 HTTPSのやりとり</summary>**
- SSL/TLS ハンドシェイク
    
    HTTPでの通信を開始するには、大きく分けて以下の4つのフェーズのやりとりを行う必要があります。
    
    1. 暗号化方式の決定
    2. 通信相手の証明
    3. 鍵の交換
    4. 暗号化方式の確認
    
    HTTPSにおけるこれら4つのフェーズのやりとりは、SSLあるいはTLSによって実現されるため、「SSL/TLS ハンドシェイク」と呼ばれます。
- プラス1
    
    SSL/TLSにおける暗号化などの処理を専門に行う機器やソフトウェアをSSLアクセラレーターといいます。Webサーバーが行うべき処理を肩代わりすることで負荷を軽減できます。</details>


**<details><summary>12 ステートフルとステートレス</summary>**
HTTPは非常にシンプルなプロトコルであり、特徴としてステートレスであるということが挙げられます。ステートレス(Stateless)とは「状態を保持しない」との意味で、HTTPではリクエスト/レスポンスの1往復のやりとりが完結された処理とみなされ、複数の処理を関連付ける仕組みがありません。

一方、ステートレスに対して「状態を保持」しておき、次の処理内容に反映させるような方式をステートフル(Stateful)といいます。ステートフルはクライアントが多いと負担になってしまいます。そのため、多くの処理を素早く処理するためにも、状態を保持することなく要求された内容を応答するだけのステートレスな設計が適しています。
- HTTPの弱点
    
    実際のショッピングサイトでは、HTTPを補完する別の仕組みとして、以前の状態を踏まえた上で次の動作を処理するといった、状態を保持し管理する仕組みが導入されています。</details>


**<details><summary>13 Cookie(クッキー)</summary>**
HTTPはステートレスなプロトコルであるため、WebブラウザとWebサーバーの一連のやりとりにおいて、状態を保持し管理する仕組みがありません。そのため、ショッピングサイトなどで状態を保持し管理する必要がある場合にはCookieと呼ばれるデータを用いられます。
- Cookieのやりとり
    
    Webサーバーへ接続してきたWebブラウザに対して、コンテンツなどと一緒にWebブラウザに保存してもらいたい情報をCookieとして送ります。例えばショッピングサイトであれば、接続してきたWebブラウザを識別するための情報をCookieとして送ります。Cookieを受け取ったWebブラウザはそれを保存しておき、次にWebサーバーに接続する際に保存しておいたCookieを送信することで、Webサーバーは接続してきた相手を識別することができます。
    
- メッセージヘッダーの利用
    
    Cookieの送信にはメッセージヘッダーが利用されます。WebサーバーはHTTPレスポンスに「Set-Cookie」ヘッダーを含めることでCookieを送信でき、WebブラウザはHTTPリクエストに「Cookie」ヘッダーを含めることで送信できます。
    
- セッションCookie
    
    有効期限が設定されていないCookieは、Webブラウザが閉じされると同時に削除されます。このようなCookieを「セッションCookie」と呼びます。一方、有効期限が設定されたCookieは、Webブラウザを閉じても削除されず、有効期限が来るまでWebブラウザ上に残ります。CookieはWebブラウザの識別にも利用されるため、盗まれると他人になりすましされることがあります。そのため、セキュリティ上の観点からショッピングサイトなどではセッションCookieがよく利用されます。
    
- プラス1
    
    これまではCookieが主流でしたが、最近のWebブラウザでは新しい方法もサポートし始めています。</details>


**<details><summary>14 セッション</summary>**
WebブラウザとWebサーバーのやりとりにおいて、一連の関連性のある処理の流れを「セッション」と呼びます。例えばショッピングサイトで商品を買う場合の「商品を選ぶ」「商品を買い物カゴに入れる」「買い物カゴの中身を確認する」「商品を購入する」といった処理の流れがセッションになります。
- セッションの管理
    
    Webサーバーへのアクセスは1台のWebブラウザだけではなく、多数のWebブラウザから行われます。そのため、あるWebブラウザからの処理を関連性のある一連の処理(=セッション)として扱いたい場合は、Cookieを用いてセッションを管理できます。
    
    セッション管理においてWebブラウザを識別するための情報を「セッション ID」と呼び、セッションIDはWebサーバーで生成され、Cookieに含めてWebブラウザに送信されます。WebサーバーからセッションIDを受け取ったWebブラウザは次回以降、CookieにセッションIDを含めて処理を行うことでWebサーバーとのセッションを維持できます。
- セッションIDのやりとり
    
    セッションIDのやりとりにはCookieを用いる方法が一般的ですが、場合によってはCookieが使えないWebブラウザもあるため、URLにセッションIDを埋め込む手法やWebページ内のフォームに埋め込む手法があります。
    
    セッションIDは個人を識別するために使われる重要な値なので、なりすましを防ぐためにも推測されにくい値である必要があります。
- プラス1
    
    他人のセッションIDを盗聴などで盗み、そのセッションIDを使ってその人になりすまして操作を行うことをセッションハイジャックといいます。</details>


**<details><summary>15 URI</summary>**
情報やデータといったリソースを識別するための記述方法をURI(Uniform Resource Identifier)と呼びます。URIは、コンピューターが扱うリソースに限らず、人や会社、書籍など、あらゆるリソースを示すことができます。

URIのうちリソースが存在する場所を示すものをURL(Uniform Resource Locator)といいます。URLにはリソースの場所を示す情報のほかに、リソースを取得する方法が記述されており、Webサイトの場所を示す際に利用されます。

URIのうち場所は問わずにリソースの名前を示すものをURN(Uniform Resource Name)といいます。観光された書籍を一意に特定し識別するためのISBNコードなどを使ってURNを記述できます。

- リクエストURI
    
    HTTPリクエストの場合、URIは「リクエストURI」とも呼ばれます。リクエストURIにはURIを全て含める絶対URI形式とURIの一部を含める相対URI形式があり、通常は記述を簡略化した相対URI形式で記述されます。

- パーセントエンコーディング
    
    URIで利用できる文字は定められており、「予約文字」と「非予約文字」が存在します。予約文字とは特定目的で用いるために予約されている文字で、その目的以外ではURIに使用できません。非予約文字とは数字やアルファベットなど自由にURIに使用できる文字のことをいいます。
    
    予約文字でも非予約文字でもない文字をURIで利用する場合は、「パーセントエンコーディング」と呼ばれる方法を用いてその文字を変換する必要があります。
    
    パーセントエンコーディングでは「％」に続けて表記できない文字の文字コードを16進数で表し、「％××」(××は16進数)の形式に変換します。</details>


**<details><summary>COLUMN</summary>**
- Webサイトの「HTTPS」化がとまらない？
    
    近年HTTPSを導入しているWebサイトが増えてきました。従来HTTPSが導入されているWebサイトといえばショッピングサイトやフォームなどで個人情報を送信する企業サイトくらいでした。またこれらのWebサイトでもHTTPSを導入しているのは個人情報などを扱う一部の重要なページだけで、それ以外はHTTPSではないことが多かったのですが、Webサイト全体をHTTPSで「常時SSL」化しているWebサイトも増えています。
    
    ではなぜ今、HTTPSを導入するWebサイトが増えてきたのでしょうか？理由の1つに利用者の接続環境の変化があります。Wi-Fi(無線LAN)に対応したスマートフォンなどの普及により、カフェや公共施設に設置されたWi-Fi環境からの接続が増えてきました。また、日本では2020年の東京オリンピックに向けてWi-Fi環境の整備を全国で進めています。携帯電場の届かない場所や海外からの旅行者でも使えるWi-Fi環境は便利な半面、セキュリティ対策が万全でないところが多いため、Webサイトの運営側とすればHTTPSを導入することで利用者に安全性や信頼性をアピールできます。
    
    Webサービスを提供する各社もHTTPSを推進しており、世界最大級の検索サイトを運営するGoogleは、HTTPSを導入しているWebサイトの検索順位を優遇しています。またGoogleが提供しているWebブラウザのChromeでは2018年7月にリリースされたバージョンから、すべてのHTTPSでないサイトを安全でないとみなし、警告を表示しています。
    
    今後はすべてのWebサイトがHTTPSになるかもしれません。しかし留意すべき点はHTTPSだから「絶対」に安心・安全であるとはいえないことです。HTTPSであっても通信が盗聴されるリスクや、個人情報を抜き取ることを目的としたWebサイトも多く存在します。Webサイトを安全に利用するには、利用者側もセキュリティ意識を持つ必要があります。</details>


# Chapter 4 Webのさまざまなデータ形式
**<details><summary>01 HTML</summary>**
HTML文書は、タグに囲まれた文章によって構成されています。タグとは囲んだ文章が「何を示すか」を表すもので、始まりを示す「開始タグ」と終わりを示す「終了タグ」からなります。「開始タグ・文章・終了タグ」のかたまりを「要素」と呼び、そのかたまりが「何を示すか」は「要素名」と呼ばれます。

HTML文書は、HTML文書であることを示すhtmlと言う要素名を持つタグの間に、いくつもの要素が入ることで構成されています。

要素には必要に応じて、その要素の特性を示す「属性」を追加することもできます。

- プラス1
    
    近年のバージョンアップでは、モバイル機器やマルチメディア、Webアプリケーションを意識した機能追加が主なものとなっています。</details>


**<details><summary>02 Webページで使用される画像形式</summary>**
Webで扱う画像データは、ネットワーク転送量を減らすため、基本的にデータサイズが小さくなる形式が使われます。
- JPEG(Joint Photographic Experts Group)
    
    ファイルの拡張子がjpgやjpegとなっている場合は、そのデータはJPEG(ジェイペグ)形式です。多くのデジカメでこの画像形式が採用されています。人間の目が感じにくいデータを削ることでデータサイズを小さくする(圧縮する)形式なので、データを削れば削るほど画質が荒くなってしまうのが特徴です。

- GIF(Graphics Inerchange Format)
    
    ファイルの拡張子がgifとなっている場合は、そのデータはGIF(ジフ)形式です。

- PNG(Portable Network Graphics)
    
    ファイルの拡張子がpngとなっている場合は、そのデータはPNG(ピング)形式です。JPEGと同様に1677万色の色が扱え、GIFと同様に画質の劣化は起きません。しかも、同じ内容でもGIFよりデータサイズが小さくなります。また、透明度(半透明)が扱えるため、JPEGより豊かな表現が可能です。
    
- プラス1
    
    上で紹介したもの以外にも、BMP、TIFF、SVG、WMF、EMFなどといったさまざまな画像形式も扱うことが可能です。</details>


**<details><summary>03 XML</summary>**
XML(Extensible Markup Language)はHTMLと同じマークアップ言語ですが、Webに特化した機能を持つHTMLに対し、様々な用途に汎用的に利用できる作りになっています。
- HTMLとは親戚関係
    
    XMLもHTMLも元はSGML(Standard Generalized Markup Lnguage)と言うマークアップ言語を改良して生まれた言語です。HTMLがWeb文書(ハイパーテキスト)を記述することに特化して仕様が定められていったのに対し、XMLは個別の目的に応じて汎用的に使えるように作られています。

- XHTML
    
    XHTML(Extensible HyperText Markup Language)は、HTMLをXMLの文法で再定義したものです。XHTMLに埋め込まれて利用されるXML文書の例としては、MathML(マスエムエル、XMLで記述された数式)やSVG(XMLで記述された画像)があります。

- プラス1
    
    XML、XHTMLのXは「Extensible」の発音を表しています。XMLやXGTMLも、HTMLと同じくW3Cによって標準化され勧告されています。</details>


**<details><summary>04 CSS</summary>**
CSS(Cascading Style Sheets)はHTMLやXMLの表示方法(体裁)を表現する記述で、「スタイルシート」とも呼ばれています。
- HTMOの体裁を記述
    
    CSSが登場すると、HTMLを文書構造の記述のみのシンプルな内容にできるようになりました。
- Webサイト内での共用
    
    CSSとHTMLを別ファイルにしておくことで、複数のHTMLで同じCSSを共有することが可能です。Webサイト内のWebページが同じCSSを共有するようにしておけば、体裁を統一でき、統一感のあるWebサイトを構築できます。
- クライアントごとに表示を変える
    
    CSSを使って文書の構造の記述と体裁の記述を分離しておくと、CSSを変更するだけで文書の構造はそのままに体裁だけを変更することができます。パソコンやスマートフォンなどのクライアントの種類ごとにCSSを準備しておけば、利用するCSSを切り替えることで、クライアントに合わせたWebページの表示を行うことができます。
- プラス1
    
    自作のCSSを登録しておき、読み込んだWebページにそのCSSを適用することで自分好みのデザインにする「ユーザースタイルシート」という機能を持つブラウザもあります。</details>


**<details><summary>05 スクリプト言語</summary>**
動的処理にはスクリプト言語が使われます。サーバーサイド・スクリプトはCGIから呼び出すためHTMLと分離した別ファイルにします。クライアントサイド・スクリプトはHTMLと分離して別ファイルにしてもよいですし、HTML内に直接スクリプト言語の記述を書き込んで使うこともできます。一般的にはCSSと同様、Webサイト内で共有することが多いため、HTMLと分離させていることが多いです。
- ECMAScript
    
    JavaScriptはFirefoxの開発で有名なMozilla FoundationとMicrosoftそれぞれで実装を進めていたため、ECMA(エクマ)インターナショナルがJavaScriptを標準化してECMAScriptを定めました。現在ではJavaScriptというとECMAScriptのことを指し、多くのWebブラウザはこのECMAScriptに対応しています。最近ではサーバーサイド・スクリプトで利用されることも増えてきています。
- Perl、Python、PHP、Ruby
    
    サーバーサイド・スクリプトの開発にはPerl、Python、PHP、Rubyという言語がよく使われています。
    
    - Perlは文法の自由度が高いため、多くの人が扱いやすいという特徴があります。
    - Pythonは読みやすく簡潔なプログラムを書くことを目的に作られた言語です。
    - PHPはWebで利用することをそうてされて作られた言語です。CGIから呼び出すのではなく、HTMLに埋め込んでもサーバーサイド・スクリプトとして使うことができるという大きな特徴を持っています。
    - Rubyはオブジェクト指向プログラミングに向いた言語仕様となっています。
    
    サーバーサイド・スクリプトの開発の際は、これらの特徴を踏まえ、最適な言語を選定する必要があります。</details>


**<details><summary>06 DOM</summary>**
DOM(Document Object Model)とは、HTMLやXML文書を扱うための手法(API)です。DOMを使うことで、プログラムからHTMLやXMLの書く要素を容易に参照・制御できます。

現在ではほとんどのWebブラウザがDOMを実装しており、Webページ上に仕込まれたスクリプト(クライアントサイド・スクリプト)やWebブラウザに実装された機能などからWebページ上の内容を読み取ったり編集することが容易になっています。

DOMはW3Cによって標準化され、Level1からLevel3までの3段階で勧告されています。

- Level1 XML1.0とHTML4.0xへの対応
- Level2 XML1.0の拡張とXHTML1.0、スタイルシートのサポートなどの追加
- Level3 XML1.0の拡張とDOMツリーの読み書き機能などの追加
- 対象となる文書を階層構造として扱う
    
    DOMでは対象となる文書の各要素を抽出し、それらを階層構造として扱います。この階層構造は文書の最上位の要素を頂点(根)として、それぞれの下位の要素が木の枝のように分かれていく木構造(ツリー構造)となっています。DOMにおける木構造はDOMツリーとも呼ばれます。
    
    木構造の枝葉の部分は「ノード」と呼ばれ、DOMではこのノードを辿っていくことで目的のデータにアクセスし、参照や編集を行います。</details>


**<details><summary>07 JSON</summary>**
JSON(ジェイソン、JavaScript Object Notaiton)は、構造化したデータを表すためのデータ記述言語の一種です。名前に「JavaScript」と付いてはいますが、書式がJavaScript(ECMAScript)に従ったものとなっているだけで、JavaScript専用ということではありません。JavaScript以外にも多くのプログラミング言語がJSONの読み書きに対応しています。
- データ構造を表すのに使われる
    
    JSONを利用することで、データを木構造で表現することができます。そういった意味ではXMLと似ていますが、それぞれ下記のような特徴があります。
    
    - XML
        - データとして文字列しか表すことができない
        - すべての情報にタグを付ける必要があるため、データサイズが大きくなりがち
        - テキストの任意の場所にタグ付けができる
    - JSON
        - データとして文字列以外に、数値や空を意味するデータなども扱うことができる
        - データを括弧で囲んで構造を表すので、データファイルは小さめ
        - タグによるマーク付けがないため、人間には読みにくいデータとなる
- Web上でのデータのやりとりによく使われる
    
    JSONはJavaScriptの書式に従っているため、JavaScriptで書かれたプログラムではJSONをそのままJavaScriptとして読み込むことができ、XMLのようにDOMを利用する必要がありません。また、タグ名などでデータサイズが大きくなりがちなXMLよりもデータが小さく、その分ネットワークの転送速度が速くなります。
    
    そのため、JavaScriptがよく利用されるWebの世界では選択されやすいデータ形式となっています。
- プラス1
    
    「データが空っぽである」という意味のデータを、Nullデータといいます。</details>


**<details><summary>08 フィード</summary>**
フィードとは、Webサイトなどの更新履歴を配信するためのファイルです。更新日度が高いブログやニュースサイトで使われています。ユーザーはフィードをチェックすることでWebサイトにアクセスすることなく、最新の更新情報を確認を知ることができます。フィードの中身は主にハイパーリンクの集まりで、Webページの全体または一部が含まれています。
- RSS、Atom
    
    フィードは現在、RDFという記述言語をベースとしたRSS1.0と、XMLをベースとしたRSS2.0という2つの系列に分裂して開発が進められています。
    
    分裂して開発が進められるRSSの代わりになるものを作ろうという発想から、有志によりXMLをベースとしたAtomという形式も構築されています。
    
    現在のWebでは主にRSSとAtomが利用されています。
- フィードリーダー
    
    Web上のフィードを取得し、管理するためのソフトウェアをフィードリーダー、もしくはフィードアグリゲーターと呼びます。複数の登録されたフィードを定期的にチェックし、更新情報をユーザーが閲覧できるように整形して表示する機能を備えています。
- ポットキャスト
    
    ポットキャストとは、Webサーバー上に音楽や動画を配置し、RSSを通してWeb上に後悔することで音楽をインターネット上で配信する手法です。RSSを使うことでブログのように手軽に音楽や映像を公開することができます。
- プラス1
    
    フィードを公開しておけば、フィードリーダーのユーザーの興味を引くことができるため、アクセス数の向上に繋がります。</details>


**<details><summary>09 マイクロフォーマット</summary>**
マイクロフォーマットは、HTMLやXHTMLで記述されたWebページの中に意味を表現する記述を埋め込むための書式です。例えば、Webページ内に記載した連絡先に、「この文字列は電話番号を表しています」「この文字列は氏名を表しています」といった情報を付け加えることができます。
- Webページに意味を埋め込む
    
    マイクロフォーマットを使うことでWebページの記述に内容の「意味」を示す情報を埋め込むことができます。埋め込まれた情報は外部のコンピューターから読み込んで利用することができ、これを有効利用することでコンピューターが自律的に情報の意味を理解して処理するセマンティックWebを実現できます。
- いろいろなマイクロフォーマット
    
    身近なところではGoogle検索のリッチスニペット(検索結果に商品レビューの件数や店の営業時間を表示する機能)に利用されています。</details>


**<details><summary>10 音声・動画配信</summary>**
- エンコードとデコード
    
    インターネットでの転送時間短縮のため、音声・動画ファイルも画像ファイルと同様に、データを圧縮した上で利用されます。データ圧縮にはコーデックと呼ばれるソフトウェアが用いられ、圧縮することをエンコード、再生するために伸張することをデコードといいます。
- ダウンロード配信
    
    音声・動画の配信方法は、大きく分けて2種類あります。1つは「Webサーバーからファイルをダウンロードしてもらい、それを再生する」というダウンロード配信です。この方法は仕組みが単純で、特別な準備がなくても簡単に実現できます。ユーザー側で一度ファイル全体をダウンロードしてから再生する方法と、ファイルをダウンロードしながら再生する方法(プログレッシブダウンロード配信)があります。ただし、どちらの方法も配信したファイルはユーザー側に残ってしまうため、著作権のあるデータの配信には向いていません。
- ストリーミング配信
    
    ダウンロード配信の問題点を解消する方法がストリーミング配信です。この方法では、ファイルを細かく分割し、細切れにしたデータをユーザーに配信して再生します。再生したデータは都度削除されてしまうので、著作権の問題は解決します。ただし、送信するデータを細切れにして転送するためのストリーミングサーバーを用意する必要があります。</details>


**<details><summary>11 メディアタイプ</summary>**
Webページの閲覧に使う機器の種類をHTML内やCSS内で「メディアタイプ」として指定することができ、それによって機器ごとにデザインを変更したWebページを表示できます。
- メディアタイプの種類
    
    指定できるメディアタイプは下記のものが用意されています。
    
    - screen......パソコンのスクリーン
    - tty......文字幅が固定の機器
    - tv......テレビ
    - projection......プロジェクター
    - handheld......携帯機器
    - print......プリンター
    - braille......点字ディスプレイ
    - embossed......点字プリンター
    - aural、speech......音声合成機器
    - all......すべてのメディア
- 機器ごとの表示の指定方法
    
    HTMLやCSSに「このメディアタイプにはこの表示スタイルを適用する」という情報をあらかじめ含めておくことで、さまざまな機器に合わせてWebページのデザインを変更して表示できます。</details>


**<details><summary>COLUMN</summary>**
- Web検索エンジン
    
    Webで情報を探すときに欠かせないのがGoogleやYahoo!、BingといったWeb検索エンジンです。
    
    インターネットが一般に使われるようになった1990年ごろは検索エンジンが検索に使うための情報は人手で管理されていました。管理される情報はパソコンで言うディレクトリ(フォルダ)のように木構造となっていたため「Webディレクトリ」と呼ばれ、この情報を使う検索エンジンを「ディレクトリ方検索エンジン」と呼びます。

    インターネットが爆発的に普及した2000年ごろになると、人手で管理するディレクトリ型検索エンジンでは情報の更新が追いつかなくなりました。代わりにクローラ(ウェブ上の文書や画像などを周期的に取得し、自動的にデータベース化するプログラム)やロボットと呼ばれるプログラムが自動的にWeb上の情報を収集し、解析した結果を検索に用いる「ロボット型検索エンジン」が主流となりました。クローラはWebページのリンクを次々にたどることで別のWebページを収集していき、収集したWebページをデータベース化します。

    また、データベースに登録されていたWebページが更新されたり削除されたりした場合はデータベースの更新や削除を行い、データベースを最新化します。このクローラの動作を「クローリング」と呼びます。クローリングによって収集されたWebページを検索に用いるためには、Webページの中身を解析してどのような情報が含まれているのかを抽出し、分析可能な形のデータに変換することが必要です。この変換作業は「スクレイピング」と呼ばれ、HTMLから要素を抽出するためにはDOMやHTMLのタグの内容を取り出す「HTMLパーサー」というプログラムが用いられます。検索エンジンはこうして作られたデータと、ユーザーが送ってきた検索文字列をマッチングさせることでWeb検索を行うのです。

    マッチング結果をどのように評価し、どういった基準で検索結果の順位付けを行うのかという部分が検索エンジンごとの特徴が最も出る部分であり、検索エンジンの質が問われるところとなります。</details>


# Chapter 5 Webアプリケーションの基本
**<details><summary>01 Webアプリケーションの3層構造</summary>**
ネットワークを介してWebブラウザ上で動作するアプリケーションをWebアプリケーションと呼びます。

Webアプリケーションは基本的に3層構造(3層アーキテクチャ)と呼ばれる階層的な構造になっています。この3層構造とは、ユーザーインターフェースとなる「プレゼンテーション層」、業務処理を行う「アプリケーション層」、データ処理や補完を行う「データ層」です。

プレゼンテーション層はWebブラウザとWebサーバー、アプリケーション層んはアプリケーションサーバー(APサーバー)、データ層はデータベースサーバー(DBサーバー)がその役割を担います。ここでいうサーバーとは、サーバープログラムのことを指しています。クライアントサイド・スクリプトはプレゼンテーション層、サーバーサイド・スクリプトはアプリケーション層で動作します。
- 負荷分散
    
    複雑な処理を実装するとアプリケーション層やデータ層の負荷が高くなり、アクセス数が多くなるとプレゼンテーション層の負荷が高くなるため、システムの規模が大きくなると一般的に各層ごとにサーバー機器を分けた構成をとります。
- 改修範囲の限定
    
    アプリケーションの改修が必要となった場合、層別に別れていることで改修簡易が小さくなるというメリットもあります。例えば、データ層の改修が発生しても、アプリケーション層やプレゼンテーション層には影響を及ぼさないため、改修のコストを抑えることができます。</details>


**<details><summary>02 MVCモデル</summary>**
アプリケーションの構造の考え方には3層アーキテクチャのほかに「MVC(エムブイシー)モデル」というものがあります。MVCのMは「Model」でアプリケーションの扱うデータと業務処理を指します。Vは「View」でユーザーへの出力処理を指します。Cは「Controller」で必要な処理をModelやViewに伝える役割を担います。このModel、View、Controllerの各要素がアプリケーションの内部でそれぞれ独立し、お互いに連携してアプリケーションの処理を行う構造をMVCモデルといいます。
